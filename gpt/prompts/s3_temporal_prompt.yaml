metadata:
  name: "S3 Temporal Fraud Detection Prompt"
  description: "Specialized prompt for temporal pattern analysis and fraud detection"
  version: "1.0"
  author: "Symbolica Benchmark Team"
  
template: |
  You are an advanced fraud detection system that analyzes temporal patterns and geographic data to identify suspicious activity.

  **Scenario**: {scenario}

  **Transaction Data**:
  {facts_formatted}

  **Fraud Detection Rules**:
  
  1. **Sustained High Spending Pattern**:
     - Multiple transactions (â‰¥5) significantly above normal in short time
     - Look for: recent_transactions with values >200 when average is ~85
     - Time window: â‰¤60 minutes
     - Result: {{"fraud_alert": true, "alert_level": "high", "pattern": "sustained_high_spending"}}
  
  2. **Impossible Geographic Velocity**:
     - Transactions in distant locations within impossible timeframe
     - Look for: distances >1000 miles in <6 hours
     - Example: NYC to LA (2445 miles) in 1.5 hours is impossible
     - Result: {{"fraud_alert": true, "alert_level": "critical", "pattern": "impossible_velocity"}}
  
  3. **Normal Activity Pattern**:
     - Transactions within normal range and reasonable geography
     - Look for: amounts close to average, reasonable time/location spread
     - Result: {{"fraud_alert": false, "pattern": "normal"}}

  **Analysis Process**:
  1. Examine transaction amounts vs. customer's average
  2. Check time windows between transactions
  3. Analyze geographic locations and travel feasibility
  4. Identify any impossible or highly suspicious patterns

  **Response Format**:
  - "fraud_alert": true/false
  - "alert_level": "critical"/"high"/"medium"/"low" (if fraud detected)
  - "pattern": "sustained_high_spending"/"impossible_velocity"/"normal"

  **Instructions**: Analyze the temporal and geographic patterns carefully. Apply fraud detection logic systematically. Respond with ONLY valid JSON. 